<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="board">
    <!-- 게시판글쓰기 -->
    <insert id="insertBoard" parameterType="com.javaex.vo.BoardVo">
      <![CDATA[
        insert into board (no,
                    title,
                    content,
                    hit,
                    reg_Date,
                    user_no)
        values (seq_board_no.nextval,
                #{title},
                #{content},
                0,
                sysdate,
                #{user_no})
       ]]>
    </insert>
    

    <!-- 게시판 전체 리스트와 검색 -->
	<select id="selectList" parameterType="string" resultType="com.javaex.vo.BoardVo">
	  <![CDATA[
        select a.no, 
               a.title,
               a.content,
               b.name user_name,
               a.hit,
               to_char(a.reg_date, 'YYYY-MM-DD HH:MI') regDate,
               a.user_no
        from board  a, users  b
        where a.user_no = b.no
       ]]>   
        <if test=" value != '' ">
        and a.title like '%'||#{keyword}||'%'
        </if>
      <![CDATA[  
        order by reg_date desc	
	  ]]>
	</select>

</mapper>
